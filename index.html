<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Wesnoth Modding Tool â€“ Create Wesnoth Add-ons</title>
        <meta name="description" content="An open-source modding tool for creating, editing, and managing the Battle for Wesnoth units, eras and factions.">
        <meta name="google-adsense-account" content="ca-pub-6929478191388872">
        <link rel="stylesheet" href="style.css">
        <link rel="icon" href="favicon.ico">
        <link rel="icon"sizes="32x32" href="/faviconx32.ico">
        <link rel="icon" type="image/png" sizes="48x48" href="/favicon.png">
        <link rel="canonical" href="https://www.wesnothmoddingtool.com/">
        <script type="application/ld+json">
        {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Wesnoth Modding Tool",
        "alternateName": "WMT",
        "url": "https://www.wesnothmoddingtool.com/"
        }
        </script>
    </head>
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <script defer src="units_data.js"></script>
    <script defer src="scripts/utils.js"></script>
    <script defer src="scripts/infoDatas.js"></script>
    <script defer src="script.js"></script>
    
    <body id="body">
        <main>
            <!-- Generic Info Modal -->
        <div id="genericModal" class="modal" hidden="true" translate="no">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <h2 id="modalTitle">â„¹ï¸ Information</h2>
                <div class="modal-panel" id="modalPanel"></div>
            </div>
        </div>

        <!-- Main menu-->
        <div id="mainPage" class="page">
            <h1><img src="favicon.png" alt="WMD icon"> WMT <img id="icon2" src="favicon.png" alt="WMD icon"></h1>
            <h2>Your Wesnoth Modding Tool</h2>
            <h3>How do I mod Wesnoth, and why use this tool?</h3>
            <p>This tool easily allows you to create your mods with its own Eras, Factions and unique units to use in your local and online games. It allows you to create the base your mod without code while having references to all the default wesnoth assets</p>
            <h3>How to Create Custom Works?</h3>
            <p>
                The easiest way to get started when creating your own units is to use the default animations option within the unit creation tool allowing you to use the open source game assets to make your own version of the units, giving them any stats, attack and abilities you want.
            </p>
            <h3>How to create Eras and Factions?</h3>
            <p>
                After you create your units don't forget to add them to a Faction within your era so that you can choose which units should be playable.
            </p>
            <a href="docs/index.html">Detailed guide on how to use the tool</a>
            <br>
            <h2>ğŸ“¦ Your Mods</h2>
            <ul>
                <li>
                    <button onclick="openModal('Import Mod Data', ['Paste your exported mod data JSON file below: <br><textarea style=\'width: 96%\' id=\'importModDataTextarea\' rows=\'10\' cols=\'50\'></textarea><br><button onclick=\'importModData()\'>Import Mod Data</button>']);">ğŸ“¦ Import Mod</button>
                </li>
                <li>
                    <button onclick="createMod();showPage('mainPage')">âœ¨ Create a new mod</button>
                </li>
            </ul>
            <ul id="modsList" style="display: none;">
            </ul>
        </div>
        <div id="modDetailsPage" class="page" hidden="true">
            <h2>ğŸ“œ <span id="modName"></span></h2>
            <p>Make your custom units and add them to your own eras factions. Once done download the files and add them to your 
            <a target="_blank" href="https://wiki.wesnoth.org/EditingWesnoth#How_to_get_there" title="add-ons folder">add-ons folder</a>.</p>
            <p>Check the <a target="_blank" href="https://wiki.wesnoth.org/Distributing_content#The_Add-on_Server" title="wiki">wiki</a> for publishing</p>
            <ul>
                <li>
                    <button onclick="showPage('erasPage'); populateEraList()">ğŸ›ï¸ Eras</button>
                </li>
                <li>
                    <button onclick="showPage('unitsPage'); populateUnitList()">ğŸ‘¥ Units</button>
                </li>
                <li>
                    <button onclick="showPage('qualitiesPage');">ğŸ’ª Qualities</button>
                </li>
                <li>
                    <button onclick="downloadMod(selectedMod);">ğŸ“¦ Download Mod</button>
                </li>
                <li>
                    <button onclick="downloadFolderAsZip(selectedMod.name+'_json_export', [{ name: 'export.json', content: JSON.stringify(selectedMod)}]);">ğŸ“¦ export json</button>
                </li>
                <li>
                    <button onclick="showPage('mainPage'); window.scrollTo(0, document.body.scrollHeight);">ğŸ”™ Back</button>
                </li>
            </ul>
        </div>
        <div id="erasPage" class="page" hidden="true">
            <h2>ğŸ›ï¸ Eras</h2> 
                <p>Make your eras each Era is a collection of factions you can play with, and each faction a collection of units.</p>
                <ul>
                    <button onclick="showPage('modDetailsPage')">ğŸ”™ Back</button>
                    <br>
                    <button onclick="addEraFrame()">â• Add Era</button>
                    <br>
                    <button onclick="saveEra()">ğŸ“œ Save Eras</button>
                </ul>
                <div id="eraFramesContainer"></div>
                <ul>
                    <button onclick="saveEra()">ğŸ“œ Save Eras</button>
                    <br>
                    <button onclick="addEraFrame()">â• Add Era</button>
                    <br>
                    <button onclick="showPage('modDetailsPage')">ğŸ”™ Back</button>
                </ul>
                


        </div>
        <div id="unitsPage" class="page" hidden="true">
            <h2>ğŸ‘¥ Units</h2> 
            <ul>
                <li><button onclick="showPage('modDetailsPage')">ğŸ”™ Back</button></li>
                <li><button onclick=" selectedUnit = {}; showPage('UnitPage');">âœ¨ Create New Unit</button></li>
                <li><p for="folderInput">Select your images folder to load custom sprites during the session (needs reimport on page reload)</p></li>
                <li style="display: flex; justify-content: center;"><input
                    type="file"
                    name="folderInput"
                    id="folderInput"
                    webkitdirectory
                    multiple
                    accept="images/*"
                /></li>
            </ul>
            <ul id="unitsList">
            </ul>
        </div>
        <div id="qualitiesPage" class="page" hidden="true">
            <h2>Qualities</h2>
            <p>In here you will define generic attributes that multiple units will use like race & movent type</p>
            <ul style="gap:10px;">
                <button onclick="showPage('modDetailsPage')">ğŸ”™ Back</button>
                <button onclick="addMovementType()">â• Add movent type</button>
                <button onclick="addRace()">â• Add race</button>
                <button onclick="saveQualities()">ğŸ“œ Save Qualities</button>
            </ul>
            <div class="RaceContainer"></div>
            <br>
            <div class="MTContainer"></div>
            <br>
            <ul style="gap:10px;">
                <button onclick="showPage('modDetailsPage')">ğŸ”™ Back</button>
                <button onclick="addMovementType()">â• Add movent type</button>
                <button onclick="addRace()">â• Add race</button>
                <button onclick="saveQualities()">ğŸ“œ Save Qualities</button>
            </ul>

        </div>  
        <div id="UnitPage" class="page" hidden="true">
            <h2>ğŸ‘¥ Unit</h2> 
            <p>Create your custom unit using a default animation or by making your own</p>
            <button onclick="showPage('unitsPage')">ğŸ”™ Back</button>
            <br>
            
            <br>
            <form id="UnitForm">
                <button type="submit">âœ… Save Unit</button>
                <h3>ğŸ“‹ Basic Info</h3>
                <label for="unitName">Name:(unique!)</label>
                <input type="text" id="unitName" name="unitName" required>
                <label for="unitRace">Race:<button type="button" class="info-icon" onclick="openModal('Races Information', [...racesData, getYourRaces()])" title="View races information">â„¹ï¸</button></label>
                <input type="text" id="unitRace" name="unitRace">
                <label for="unitDefaultAnimation">Use default animation:<button type="button" class="info-icon" onclick="openUnitsModal('Select By Image', unitAnimDefaultClick)" title="Select By Image">â„¹ï¸</button></label>
                <select type="text" class="attack-range" id="unitDefaultAnimation" name="unitDefaultAnimation" placeholder="No" onchange="unitAnimDefaultClick(this.value)">
                    <option value="No">No</option>
                </select>
                <label for="unitImage">Image Path:</label>
                <input type="text" id="unitImage" name="unitImage">
                <label for="unitProfile">Portrait Path:</label>
                <input type="text" id="unitProfile" name="unitProfile">
                <label for="unitHitpoints">â¤ï¸ Hitpoints:</label>
                <input type="number" id="unitHitpoints" name="unitHitpoints">
                <label for="unitMovement">ğŸš¶ Movement:</label>
                <input type="number" id="unitMovement" name="unitMovement">
                <label for="unitMovementType">Movement Type:<button type="button" class="info-icon" onclick="openModal('Movement Types Information', [getYourMT(),...movementTypesData])" title="View movement types information">â„¹ï¸</button></label>
                <select id="unitMovementType" name="unitMovementType">
                </select>
                <label for="unitCost">ğŸ’° Cost:</label>
                <input type="number" id="unitCost" name="unitCost">
                <label for="unitLevel">ğŸ“Š Level:</label>
                <input type="number" id="unitLevel" name="unitLevel">
                <label for="unitExperience">â­ Experience for level up:</label>
                <input type="number" id="unitExperience" name="unitExperience">
                <label for="unitAlignment">âš–ï¸ Alignment:<button type="button" class="info-icon" onclick="openModal('Alignment Types Information', alignmentTypesData)" title="View Alignment types information">â„¹ï¸</button></label>
                <select name="unitAlignment" id="unitAlignment" selected="neutral">
                    <option value="neutral">Nuetral</option>
                    <option value="chaotic">Chaotic</option>
                    <option value="lawful">Lawful</option>
                    <option value="liminal">Liminal</option>
                </select>
                <label for="unitAdvancesTo" title="the unit it will advance to when leveling up">ğŸ“ˆ Advances To:<button type="button" class="info-icon" onclick="openUnitsModal('Units by image', fillField, true)" title="View units by img">â„¹ï¸</button></label>
                <input type="text" id="unitAdvancesTo" name="unitAdvancesTo" value="null">
                <label for="unitDescription">ğŸ“– Description:</label>
                <textarea id="unitDescription" name="unitDescription"></textarea>
                <label for="unitUsage" title="">ğŸ¯ Usage:<button type="button" class="info-icon" onclick="openModal('Default Usage Info', usageData)" title="View Usage information">â„¹ï¸</button></label>
                <input type="text" id="unitUsage" name="unitUsage">
                <label for="unitDieSound">ğŸ”Š Die Sound:<button type="button" class="info-icon" onclick="openModal('Die Sounds Information', SoundsData)" title="View Die Sounds information">â„¹ï¸</button></label>
                <input type="text" id="unitDieSound" name="unitDieSound">

                <h3 id="attackTitle">âš¡ Attacks</h3>
                <div id="attacksContainer"></div>
                <button type="button" onclick="addAttack()">â• Add Attack</button>
                <br>

                <h3>ğŸ›¡ï¸ Resistance <button type="button" class="info-icon" onclick="openModal('If not specified it will inherit from race', attackTypesData)" title="View Resistance information">â„¹ï¸</button></h3>
                <div id="resistanceContainer"></div>
                <button type="button" onclick="addResistance()">â• Add Resistance</button>
                <br>

                <h3>âœ¨ Abilities</h3>
                <label for="unitAbilities">Abilities (one per line):<button type="button" class="info-icon" onclick="openModal('Abilities Information', abilitiesData)" title="View Abilities information">â„¹ï¸</button></label>
                <textarea id="unitAbilities" name="unitAbilities" placeholder="{ABILITY_SUBMERGE}" ></textarea>
                <br>
                
                <details id="customAnimations">
                    <summary><h2>Custom AnimationsğŸ‘ˆ</h2></summary>
                        <h3>Creation your own art</h3>
                        <ul style="width: auto; max-width: 100%;">
                            <li>You can use segmented sprites to make you own with these packs: </li><a target="_blank" href="https://wiki.wesnoth.org/FrankenPacks">FrankenPacks</a>
                            <li>Use any  img or pixel art editing software. Recomendation:</li><a target="_blank"href="https://www.piskelapp.com/p/create/sprite/">PISKEL</a>
                            <li>Have all your animations in separate files from 1 to the number of sprites and add the path to the image of your animation like so:</li>
                            <li>"units/filename-[1~8].png:[150*3,200,150*4]"</li>
                            <li>[1~8] is the amound of frames it will go through and :[the time in ms spend on each frame]</li>
                        </ul>

                    <h3>ğŸƒ Standing Animation</h3>
                    <label for="standingStartTime">Start Time:</label>
                    <input type="number" id="standingStartTime" name="standingStartTime">
                    <br>
                    <div id="standingAnimContainer"></div>
                    <button type="button" onclick="addStandingFrame()">â• Add Standing Frame</button>
                    <br>
    
                    <h3>âš”ï¸ Attack Animations</h3>
                    <div id="attackAnimsContainer"></div>
                    <button type="button" onclick="addAttackAnim()">â• Add Attack Animation</button>
                    <br>
                </details>
                <label for="codeBlock">Custom WML code</label>
                <textarea id="codeBlock" name="codeBlock" placeholder="Here you can place extra WML code to be added in addition to all the defined atributes, it will be placed within unit_type tags" ></textarea>
                <button type="submit">âœ… Save Unit</button>
                <br>
            </form>
            
        </div>

        <!-- Side Panel: Unit Info -->
        <div id="unitInfoPanel" class="unit-info-panel">
            <h3 style="margin-top: 0; text-align: center;">âš”ï¸ View</h3>
            <div style="display:flex; justify-content: space-between; margin: -18px 0px 0px 0px;">
                <div id="panelAlingment" ></div>
                <div class="stat-item" style="padding: 4px ; ">
                    <span class="stat-icon">ğŸ“Š</span>
                    <span id="panelLevel" class="stat-value">-</span>
                </div>
            </div>
            <div id="unitImageContainer" class="unit-image-container">
                <img id="unitDisplayImage" src="" alt="Unit Image" class="unit-display-image">
            </div>
            
            <div class="unit-stats">
                <div class="stat-item">
                    <span class="stat-icon">â¤ï¸</span>
                    <span id="panelHitpoints" class="stat-value">-</span>
                </div>
                
                <div class="stat-item">
                    <span class="stat-icon">ğŸš¶</span>
                    <span id="panelMovement" class="stat-value">-</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">ğŸ’°</span>
                    <span id="panelCost" class="stat-value">-</span>
                </div>
                
                <div class="stat-item">
                    <span class="stat-icon">â­</span>
                    <span id="panelExperience" class="stat-value">-</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon"><img src="imgs/resistances/blade.png" alt="blade-icon"></span>
                    <span id="panelBlade" class="stat-value">-</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon"><img src="imgs/resistances/pierce.png" alt="pierce-icon"></span>
                    <span id="panelPierce" class="stat-value">-</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon"><img src="imgs/resistances/impact.png" alt="impact-icon"></span>
                    <span id="panelImpact" class="stat-value">-</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon"><img src="imgs/resistances/fire.png" alt="fire-icon"></span>
                    <span id="panelFire" class="stat-value">-</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon"><img src="imgs/resistances/cold.png" alt="cold-icon"></span>
                    <span id="panelCold" class="stat-value">-</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon"><img src="imgs/resistances/arcane.png" alt="arcane-icon"></span>
                    <span id="panelArcane" class="stat-value">-</span>
                </div>
            </div>
        </div>
        </main>
        <noscript>
            <p>This tool generates custom mods for the game wesnoth. JavaScript is required.</p>
        </noscript>
        <footer>
            <div>
                <p style="margin-right: 4px;">WMT - Wesnoth Modding Tool V 0.3</p>
                <a href="https://github.com/Pabloleabr/wesnothModdingTool" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="white" class="bi bi-github" viewBox="0 0 16 16">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
                    </svg>
                </a>
            </div>
            <p>
                The Battle for Wesnoth is a free and open-source game released under the GNU GPL. This website is an independent, community-created project and is not affiliated with or endorsed by the official Wesnoth development team. All mods generated using this tool are user-created and use only open-source assets provided by the game.
            </p>
        </footer>
    </body>
</html>